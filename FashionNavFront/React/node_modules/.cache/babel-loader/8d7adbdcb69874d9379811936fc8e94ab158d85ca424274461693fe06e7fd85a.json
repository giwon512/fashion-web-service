{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\minjae\\\\Documents\\\\GitHub\\\\fashion-web-service-1\\\\FashionNavFront\\\\React\\\\src\\\\components\\\\NewsDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport api from '../api';\nimport './NewsDetail.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsDetail = ({\n  isAdmin\n}) => {\n  _s();\n  const {\n    newsId\n  } = useParams();\n  const [news, setNews] = useState(null);\n  const [allNewsList, setAllNewsList] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    api.get(`/news/detail/${newsId}`).then(response => setNews(response.data)).catch(error => console.error('Error fetching news detail:', error));\n  }, [newsId]);\n  useEffect(() => {\n    api.get('/raw-news?pageNum=1&pageSize=1000') // 큰 페이지 사이즈로 모든 뉴스 가져오기\n    .then(response => setAllNewsList(response.data.content)).catch(error => console.error('Error fetching all news:', error));\n  }, []);\n  const handlePreviousClick = () => {\n    const currentIndex = allNewsList.findIndex(news => news.newsId === parseInt(newsId));\n    if (currentIndex > 0) {\n      navigate(`/news/details/${allNewsList[currentIndex - 1].newsId}`);\n    }\n  };\n  const handleNextClick = () => {\n    const currentIndex = allNewsList.findIndex(news => news.newsId === parseInt(newsId));\n    if (currentIndex < allNewsList.length - 1) {\n      navigate(`/news/details/${allNewsList[currentIndex + 1].newsId}`);\n    }\n  };\n  const handleListClick = () => {\n    const category = news === null || news === void 0 ? void 0 : news.category;\n    if (category) {\n      navigate(`/news/${category}`);\n    } else {\n      navigate('/'); // 카테고리가 지정되지 않은 경우 메인 페이지로 이동\n    }\n  };\n  const handleEditClick = () => {\n    const currentPage = Math.ceil((allNewsList.findIndex(news => news.newsId === parseInt(newsId)) + 1) / 10);\n    navigate(`/admin?editNewsId=${newsId}&page=${currentPage}`);\n  };\n  if (!news) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"news-detail-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-detail\",\n      children: [isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit-button\",\n          onClick: handleEditClick,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: news.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: news.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigation-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"previous-button\",\n          onClick: handlePreviousClick,\n          disabled: allNewsList.findIndex(news => news.newsId === parseInt(newsId)) === 0,\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"list-button\",\n          onClick: handleListClick,\n          children: \"\\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-button\",\n          onClick: handleNextClick,\n          disabled: allNewsList.findIndex(news => news.newsId === parseInt(newsId)) === allNewsList.length - 1,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(NewsDetail, \"qtA7nyxnfkULE1qgVw3XAknL+es=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = NewsDetail;\nexport default NewsDetail;\nvar _c;\n$RefreshReg$(_c, \"NewsDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useLocation","api","jsxDEV","_jsxDEV","NewsDetail","isAdmin","_s","newsId","news","setNews","allNewsList","setAllNewsList","navigate","get","then","response","data","catch","error","console","content","handlePreviousClick","currentIndex","findIndex","parseInt","handleNextClick","length","handleListClick","category","handleEditClick","currentPage","Math","ceil","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","title","dangerouslySetInnerHTML","__html","disabled","_c","$RefreshReg$"],"sources":["C:/Users/minjae/Documents/GitHub/fashion-web-service-1/FashionNavFront/React/src/components/NewsDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\r\nimport api from '../api';\r\nimport './NewsDetail.css';\r\n\r\nconst NewsDetail = ({ isAdmin }) => {\r\n    const { newsId } = useParams();\r\n    const [news, setNews] = useState(null);\r\n    const [allNewsList, setAllNewsList] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        api.get(`/news/detail/${newsId}`)\r\n            .then(response => setNews(response.data))\r\n            .catch(error => console.error('Error fetching news detail:', error));\r\n    }, [newsId]);\r\n\r\n    useEffect(() => {\r\n        api.get('/raw-news?pageNum=1&pageSize=1000') // 큰 페이지 사이즈로 모든 뉴스 가져오기\r\n            .then(response => setAllNewsList(response.data.content))\r\n            .catch(error => console.error('Error fetching all news:', error));\r\n    }, []);\r\n\r\n    const handlePreviousClick = () => {\r\n        const currentIndex = allNewsList.findIndex(news => news.newsId === parseInt(newsId));\r\n        if (currentIndex > 0) {\r\n            navigate(`/news/details/${allNewsList[currentIndex - 1].newsId}`);\r\n        }\r\n    };\r\n\r\n    const handleNextClick = () => {\r\n        const currentIndex = allNewsList.findIndex(news => news.newsId === parseInt(newsId));\r\n        if (currentIndex < allNewsList.length - 1) {\r\n            navigate(`/news/details/${allNewsList[currentIndex + 1].newsId}`);\r\n        }\r\n    };\r\n\r\n    const handleListClick = () => {\r\n        const category = news?.category;\r\n        if (category) {\r\n            navigate(`/news/${category}`);\r\n        } else {\r\n            navigate('/'); // 카테고리가 지정되지 않은 경우 메인 페이지로 이동\r\n        }\r\n    };\r\n\r\n    const handleEditClick = () => {\r\n        const currentPage = Math.ceil((allNewsList.findIndex(news => news.newsId === parseInt(newsId)) + 1) / 10);\r\n        navigate(`/admin?editNewsId=${newsId}&page=${currentPage}`);\r\n    };\r\n\r\n    if (!news) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"news-detail-container\">\r\n            <div className=\"news-detail\">\r\n                {isAdmin && (\r\n                    <div className=\"edit-button-container\">\r\n                        <button className=\"edit-button\" onClick={handleEditClick}>Edit</button>\r\n                    </div>\r\n                )}\r\n                <h2>{news.title}</h2>\r\n                <div dangerouslySetInnerHTML={{ __html: news.content }} />\r\n                <div className=\"navigation-buttons\">\r\n                    <button\r\n                        className=\"previous-button\"\r\n                        onClick={handlePreviousClick}\r\n                        disabled={allNewsList.findIndex(news => news.newsId === parseInt(newsId)) === 0}\r\n                    >\r\n                        이전\r\n                    </button>\r\n                    <button\r\n                        className=\"list-button\"\r\n                        onClick={handleListClick}\r\n                    >\r\n                        목록\r\n                    </button>\r\n                    <button\r\n                        className=\"next-button\"\r\n                        onClick={handleNextClick}\r\n                        disabled={allNewsList.findIndex(news => news.newsId === parseInt(newsId)) === allNewsList.length - 1}\r\n                    >\r\n                        다음\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}