{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\minjae\\\\Documents\\\\GitHub\\\\fashion-web-service-1\\\\FashionNavFront\\\\React\\\\src\\\\components\\\\AllNews.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../api';\nimport './AllNews.css';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllNews = () => {\n  _s();\n  const [newsList, setNewsList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  useEffect(() => {\n    fetchNews(currentPage);\n  }, [currentPage]);\n  const fetchNews = async page => {\n    try {\n      const response = await api.get(`/raw-news?pageNum=${page}&pageSize=10`);\n      setNewsList(response.data.content);\n      setTotalPages(response.data.totalPages);\n    } catch (error) {\n      console.error('Error fetching news:', error);\n    }\n  };\n  const renderPaginationButtons = () => {\n    const buttons = [];\n    const maxButtons = 5; // 한 번에 표시할 최대 버튼 수\n\n    let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));\n    let endPage = Math.min(totalPages, startPage + maxButtons - 1);\n    if (endPage - startPage + 1 < maxButtons) {\n      startPage = Math.max(1, endPage - maxButtons + 1);\n    }\n\n    // 이전 페이지 버튼\n    buttons.push( /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage(prev => Math.max(1, prev - 1)),\n      disabled: currentPage === 1,\n      children: \"Previous\"\n    }, \"prev\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this));\n\n    // 페이지 번호 버튼\n    for (let i = startPage; i <= endPage; i++) {\n      buttons.push( /*#__PURE__*/_jsxDEV(\"button\", {\n        className: i === currentPage ? 'active' : '',\n        onClick: () => setCurrentPage(i),\n        children: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this));\n    }\n\n    // 다음 페이지 버튼\n    buttons.push( /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage(prev => Math.min(totalPages, prev + 1)),\n      disabled: currentPage === totalPages,\n      children: \"Next\"\n    }, \"next\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this));\n    return buttons;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-news-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"All News\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-container\",\n      children: newsList.map(news => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/news/details/${news.newsId}`,\n        className: \"news-link\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: news.imageUrl,\n            alt: news.title,\n            className: \"news-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: news.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: news.summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"news-date\",\n              children: news.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)\n      }, news.newsId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: renderPaginationButtons()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n_s(AllNews, \"qLjuijic17f9fSSlMMoQ2FhfOuk=\");\n_c = AllNews;\nexport default AllNews;\nvar _c;\n$RefreshReg$(_c, \"AllNews\");","map":{"version":3,"names":["React","useEffect","useState","api","Link","jsxDEV","_jsxDEV","AllNews","_s","newsList","setNewsList","currentPage","setCurrentPage","totalPages","setTotalPages","fetchNews","page","response","get","data","content","error","console","renderPaginationButtons","buttons","maxButtons","startPage","Math","max","floor","endPage","min","push","onClick","prev","disabled","children","fileName","_jsxFileName","lineNumber","columnNumber","i","className","map","news","to","newsId","src","imageUrl","alt","title","summary","date","_c","$RefreshReg$"],"sources":["C:/Users/minjae/Documents/GitHub/fashion-web-service-1/FashionNavFront/React/src/components/AllNews.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api';\r\nimport './AllNews.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AllNews = () => {\r\n    const [newsList, setNewsList] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n\r\n    useEffect(() => {\r\n        fetchNews(currentPage);\r\n    }, [currentPage]);\r\n\r\n    const fetchNews = async (page) => {\r\n        try {\r\n            const response = await api.get(`/raw-news?pageNum=${page}&pageSize=10`);\r\n            setNewsList(response.data.content);\r\n            setTotalPages(response.data.totalPages);\r\n        } catch (error) {\r\n            console.error('Error fetching news:', error);\r\n        }\r\n    };\r\n\r\n    const renderPaginationButtons = () => {\r\n        const buttons = [];\r\n        const maxButtons = 5; // 한 번에 표시할 최대 버튼 수\r\n\r\n        let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));\r\n        let endPage = Math.min(totalPages, startPage + maxButtons - 1);\r\n\r\n        if (endPage - startPage + 1 < maxButtons) {\r\n            startPage = Math.max(1, endPage - maxButtons + 1);\r\n        }\r\n\r\n        // 이전 페이지 버튼\r\n        buttons.push(\r\n            <button\r\n                key=\"prev\"\r\n                onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                disabled={currentPage === 1}\r\n            >\r\n                Previous\r\n            </button>\r\n        );\r\n\r\n        // 페이지 번호 버튼\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            buttons.push(\r\n                <button\r\n                    key={i}\r\n                    className={i === currentPage ? 'active' : ''}\r\n                    onClick={() => setCurrentPage(i)}\r\n                >\r\n                    {i}\r\n                </button>\r\n            );\r\n        }\r\n\r\n        // 다음 페이지 버튼\r\n        buttons.push(\r\n            <button\r\n                key=\"next\"\r\n                onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                disabled={currentPage === totalPages}\r\n            >\r\n                Next\r\n            </button>\r\n        );\r\n\r\n        return buttons;\r\n    };\r\n\r\n    return (\r\n        <div className=\"all-news-section\">\r\n            <h2>All News</h2>\r\n            <div className=\"news-container\">\r\n                {newsList.map((news) => (\r\n                    <Link to={`/news/details/${news.newsId}`} key={news.newsId} className=\"news-link\">\r\n                        <div className=\"news-card\">\r\n                            <img src={news.imageUrl} alt={news.title} className=\"news-image\" />\r\n                            <div className=\"news-content\">\r\n                                <h3>{news.title}</h3>\r\n                                <p>{news.summary}</p>\r\n                                <span className=\"news-date\">{news.date}</span>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n            <div className=\"pagination\">\r\n                {renderPaginationButtons()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllNews;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}